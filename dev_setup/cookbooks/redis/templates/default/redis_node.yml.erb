---
capacity: <%= node[:redis_node][:capacity] %>
plan: free
local_db: sqlite3:/var/vcap/services/redis/redis_node.db
mbus: nats://<%= node[:nats_server][:user] %>:<%= node[:nats_server][:password] %>@<%= node[:nats_server][:host] %>:<%= node[:nats_server][:port] %>/
index: <%= node[:redis_node][:index] %>
base_dir: /var/vcap/services/redis/instances
redis_log_dir: /var/vcap/services/redis/logs
pid: /var/vcap/sys/run/redis_node.pid
max_memory: <%= node[:redis_node][:max_memory] %>
memory_overhead: 20
max_swap: 32
node_id: <%= "redis_node_#{node[:redis_node][:index]}" %>
op_time_limit: <%= node[:redis_node][:op_time_limit] %>

port_range:
  first: 5000
  last: 25000
migration_nfs: /mnt/vcap
logging:
  level: debug
command_rename_prefix: protect-command-prefix
max_clients: 500
redis_timeout: <%= node[:redis_node][:redis_timeout] %>
redis_start_timeout: <%= node[:redis_node][:redis_start_timeout] %>
image_dir: /var/vcap/store/redis_image
max_disk: 2048
service_log_dir: /var/vcap/sys/service-log/redis

supported_versions: ["<%= node[:redis][:default_version] %>"]
default_version: "<%= node[:redis][:default_version] %>"

z_interval: 30
service_common_dir: "<%= node[:redis][:path] %>/common"
service_bin_dir:
  "<%= node[:redis][:default_version] %>": "<%= node[:redis][:path] %>/<%= node[:redis][:default_version] %>"

max_nats_payload: 1048576
fqdn_hosts: false
service_start_timeout: 3
persistent: false
op_time_limit: 6
filesystem_quota: false
m_interval: 10
